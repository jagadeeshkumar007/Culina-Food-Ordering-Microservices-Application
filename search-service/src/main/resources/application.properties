spring.application.name=search-service

server.port=8084

spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration

# Elasticsearch
spring.elasticsearch.uris=${ELASTICSEARCH_URI:http://elasticsearch:9200}

#kafka
spring.kafka.bootstrap-servers=${KAFKA_BOOTSTRAP_SERVERS:kafka:9092}

spring.kafka.consumer.group-id=search-service
spring.kafka.consumer.auto-offset-reset=earliest

spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.ErrorHandlingDeserializer

# Delegate actual deserialization to JSON
spring.kafka.consumer.properties.spring.deserializer.value.delegate.class= org.springframework.kafka.support.serializer.JsonDeserializer

# VERY IMPORTANT JSON SETTINGS
spring.kafka.consumer.properties.spring.json.trusted.packages=com.culina.*
spring.kafka.consumer.properties.spring.json.use.type.headers=false
spring.kafka.consumer.properties.spring.json.value.default.type=com.culina.search.dto.MenuItemEvent

# Logs
logging.level.root=INFO
logging.level.com.culina=DEBUG
logging.file.name=logs/search-service.log
